<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Linux安装tomcat</title>
    <link href="/2022/10/22/Linux%E5%AE%89%E8%A3%85tomcat/"/>
    <url>/2022/10/22/Linux%E5%AE%89%E8%A3%85tomcat/</url>
    
    <content type="html"><![CDATA[<h2 id="Linux安装Tomcat"><a href="#Linux安装Tomcat" class="headerlink" title="Linux安装Tomcat"></a>Linux安装Tomcat</h2><h3 id="1-下载、上传Tomcat包到Linux"><a href="#1-下载、上传Tomcat包到Linux" class="headerlink" title="1.下载、上传Tomcat包到Linux"></a>1.下载、上传Tomcat包到Linux</h3><p><img src="/img/2.png" alt="2"></p><h3 id="2-解压tomcat-、改名"><a href="#2-解压tomcat-、改名" class="headerlink" title="2.解压tomcat 、改名"></a>2.解压tomcat 、改名</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -xzvf  apache-tomcat-8.5.35.tar.gz  -C  /opt/<br>mv  /opt/apache-tomcat-8.5.35    /opt/tomcat<br></code></pre></td></tr></table></figure><blockquote><p>-C 指定路径</p><p>重命名为了方便管理</p></blockquote><h3 id="3-运行tomcat"><a href="#3-运行tomcat" class="headerlink" title="3.运行tomcat"></a>3.运行tomcat</h3><ol><li><p>进入Tomcat安装目录。命令启动（默认绿色后缀为.sh的便是Linux的可执行脚本）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /opt/tomcat/bin/<br>./startup.sh<br></code></pre></td></tr></table></figure><p><img src="/img/3.png" alt="3"></p><blockquote><p>说明：在window系统中启动脚本是.bat文件，在Linux系统中使用的是.sh文件。执行格式为： **.&#x2F;**脚本</p><p>注意：如果.sh文件显示为灰色，且无法执行，则是因为权限不足，使用命令给脚本文件增加执行权限。</p><p>[root@localhost bin]# chmod +x *.sh  　　#给所有脚本文件增加执行权限</p></blockquote></li></ol><h3 id="4-测试访问"><a href="#4-测试访问" class="headerlink" title="4.测试访问"></a>4.测试访问</h3><ol><li>如果是外部主机想要访问Linux部署的Tomcat，需要开放端口，因为tomcat默认端口号是8080  所以把8080端口加入到信任</li></ol>   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">firewall-cmd     --zone=public    --add-port=8080/tcp  --permanent<br></code></pre></td></tr></table></figure><ol start="2"><li>重新启动防火墙服务</li></ol><p>   service iptables restart</p><ol start="3"><li><p>访问IP地址：8080查看是否能够访问tomcat</p></li><li><p>在tomcat首页点击Manager App  如果禁止访问 403。添加tomcat用户</p><ol><li><p>如果需要远程访问，关闭远程访问IP限制 注释value节点</p><p>vim &#x2F;opt&#x2F;tomcat&#x2F;webapps&#x2F;manager&#x2F;META-INF&#x2F;context.xml</p></li><li><p>找到 <code>tomcat/conf/tomcat-users.xml </code>添加如下内容</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;tomcat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;manager-gui&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;admin-gui&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;manager-script&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;admin-script&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">user</span> <span class="hljs-attr">username</span>=<span class="hljs-string">&quot;tomcat&quot;</span> <span class="hljs-attr">password</span>=<span class="hljs-string">&quot;tomcat&quot;</span> <span class="hljs-attr">roles</span>=<span class="hljs-string">&quot;tomcat,manager-gui,manager-script,admin-gui,admin-script&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>● 重启tomcat</p></li></ol><h2 id="5-设置开机自启"><a href="#5-设置开机自启" class="headerlink" title="5.设置开机自启"></a>5.设置开机自启</h2><ol><li><p>在&#x2F;etc&#x2F;init.d 下创建文件  tomcat</p><p>在#!&#x2F;bin&#x2F;bash的情况下，虽然source不成功，但是还是运行了source后面的echo语句。sh则不会执行，sh可以认为是bash的标准模式 </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment"># description: auto_run</span><br><span class="hljs-comment"># chkconfig: 234 20 80</span><br>CATALINA_HOME=/opt/tomcat/<br><span class="hljs-keyword">case</span> <span class="hljs-variable">$1</span> <span class="hljs-keyword">in</span><br>        start)<br>                sh <span class="hljs-variable">$CATALINA_HOME</span>/bin/startup.sh<br>                ;;<br>        stop)<br>                sh <span class="hljs-variable">$CATALINA_HOME</span>/bin/shutdown.sh<br>                ;;<br>        restart)<br>                sh <span class="hljs-variable">$CATALINA_HOME</span>/bin/shutdown.sh<br>                sh <span class="hljs-variable">$CATALINA_HOME</span>/bin/startup.sh<br>                ;;<br>        *)<br>                <span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;please use : tomcat &#123;start | stop | restart&#125;&#x27;</span><br>        ;;<br><span class="hljs-keyword">esac</span><br><span class="hljs-built_in">exit</span> 0<br></code></pre></td></tr></table></figure></li><li><p>添加可执行权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">chmod   +x  /etc/init.d/tomcat<br></code></pre></td></tr></table></figure></li><li><p>声明环境变量</p><blockquote><p>启动tomcat会调用tomcat安装文件中的startup.sh，而它调用了catalina.sh，catalina.sh则调用了setclasspath.sh。因此需要在setclasspath.sh的开头手动声明环境变量。</p></blockquote><p>vim打开tomcat的bin目录下的setclasspath.sh，添加JAVA_HOME和JRE_HOME两个环境变量</p></li><li><p>将tomcat加入到开机启动项</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">systemctl enable tomcat<br></code></pre></td></tr></table></figure></li></ol><p>参考来源：<a href="https://www.cnblogs.com/xsge/p/13819537.html">Linux系统（八）：安装Tomcat（2021最新最详细） - 净重21克 - 博客园 (cnblogs.com)</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>项目部署</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux安装MySQL</title>
    <link href="/2022/06/28/Linux%E9%83%A8%E7%BD%B2Mysql/"/>
    <url>/2022/06/28/Linux%E9%83%A8%E7%BD%B2Mysql/</url>
    
    <content type="html"><![CDATA[<h2 id="Linux安装MySQL"><a href="#Linux安装MySQL" class="headerlink" title="Linux安装MySQL"></a>Linux安装MySQL</h2><h3 id="1-卸载自带的MySQL或mariadb-软件包"><a href="#1-卸载自带的MySQL或mariadb-软件包" class="headerlink" title="1.卸载自带的MySQL或mariadb 软件包"></a>1.卸载自带的MySQL或mariadb 软件包</h3><p>● 查询是否存在mysql、mariadb</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">rpm -qa|grep -i mysql  以及 rpm -qa|grep -i mariadb<br></code></pre></td></tr></table></figure><blockquote><p>rpm -qa 查找所有软件包</p><p>‘|’ 管道符</p><p>grep -i 不区分大小写查找字符串</p><p><a href="http://c.biancheng.net/view/817.html">Linux rpm命令查询软件包（-q、-qa、-i、-p、-l、-f、-R） </a></p></blockquote><p>● 如果存在删除；</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">rpm  -e --nodeps mysql-libs-xxx-xxx.x86_64 以及 rpm -e --nodeps mariadb-libs-xxx-xx.x86_64<br></code></pre></td></tr></table></figure><h3 id="2-下载、上传服务端和客户端软件包到Linux"><a href="#2-下载、上传服务端和客户端软件包到Linux" class="headerlink" title="2.下载、上传服务端和客户端软件包到Linux"></a>2.下载、上传服务端和客户端软件包到Linux</h3><p><img src="https://img-blog.csdnimg.cn/c2d5ba8e8c9d40678f845dfd876cef39.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAeHVwZW5nMTY0NA==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="下载"></p><p><img src="/img/1.png" alt="1"></p><h3 id="3-安装-MySQL服务端和客户端"><a href="#3-安装-MySQL服务端和客户端" class="headerlink" title="3.安装 MySQL服务端和客户端"></a>3.安装 MySQL服务端和客户端</h3><p>● rpm  -ivh  MySQL-server-5.6.51-1.el7.x86_64.rpm</p><p>● rpm  -ivh  MySQL-client-5.1.73-1.glibc23.x86_64.rpm</p><blockquote><p>-i 安装软件包    -v 显示命令执行过程  -h 安装软件包时列出标记</p><p><a href="https://www.linuxcool.com/rpm">rpm命令 – RPM软件包管理器 – Linux命令大全(手册) (linuxcool.com)</a></p></blockquote><h3 id="4-安装完成"><a href="#4-安装完成" class="headerlink" title="4.安装完成"></a>4.安装完成</h3><p>● 查看是否在开机启动项  <code>systemctl is-enabled  mysql </code> 如果不在  添加开机启动项   <code>systemctl  enable mysql</code></p><p>● 查看状态  <code>systemctl status  mysql</code>  如果关闭状态  开启mysql   <code>systemctl start mysql </code></p><p>● 进入mysql       <code>mysql -u root -p </code>   （第一次进入没有密码：直接回车）</p><h3 id="5-设置密码"><a href="#5-设置密码" class="headerlink" title="5.设置密码"></a>5.设置密码</h3><ol><li><p>user mysql；</p><blockquote><p>use命令可以让我们来使用数据库。</p><p>mysql：mysql的核心数据库，类似于sql server中的master表，主要负责存储数据库的用户、权限设置、关键字等mysql自己需要使用的控制和管理信息。(常用的，在mysql.user表中修改root用户的密码)。</p></blockquote></li><li><p>修改密码</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> password<span class="hljs-operator">=</span>PASSWORD(<span class="hljs-string">&#x27;密码&#x27;</span>) <span class="hljs-keyword">where</span> <span class="hljs-keyword">user</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;root&#x27;</span>;<br></code></pre></td></tr></table></figure></li><li><p>设置允许远程登录</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">--赋予任何主机访问权限：</span><br><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;%&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;password&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;<br><span class="hljs-comment">--允许指定主机(IP地址)访问权限：</span><br><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;myuser&#x27;</span>@<span class="hljs-string">&#x27;192.168.1.3&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;root&#x27;</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;<br></code></pre></td></tr></table></figure></li><li><p>刷新授权</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">flush privileges;<br></code></pre></td></tr></table></figure></li><li><p>退出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">quit;<br></code></pre></td></tr></table></figure></li></ol><h3 id="6-远程登录"><a href="#6-远程登录" class="headerlink" title="6.远程登录"></a>6.远程登录</h3><ol><li><p>查看3306端口状态</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">firewall-cmd   --zone=public   --query-port=3306/tcp  --permanent<br></code></pre></td></tr></table></figure></li><li><p>添加端口信任</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">firewall-cmd   --zone=public   --add-port=3306/tcp  --permanent<br></code></pre></td></tr></table></figure></li><li><p><strong>重载防火墙</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">firewall-cmd         --reload <br></code></pre></td></tr></table></figure></li></ol><h3 id="7-使用数据库管理工具（navicat-）远程登录"><a href="#7-使用数据库管理工具（navicat-）远程登录" class="headerlink" title="7.使用数据库管理工具（navicat ）远程登录"></a>7.使用数据库管理工具（navicat ）远程登录</h3><blockquote><p> 注意填入服务器IP地址</p></blockquote><p>参考来源:<a href="https://blog.csdn.net/xp178171640/article/details/123611639">(7条消息) Linux下rpm安装MySQL及配置_xupeng1644的博客-CSDN博客_linux rpm安装mysql</a></p>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>项目部署</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
